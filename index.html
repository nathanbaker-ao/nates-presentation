<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Group Chat: End-to-End Ownership ‚Äî Nathan Baker</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
<style>
  :root {
    --bg: #080812;
    --surface: #12122a;
    --surface2: #1a1a35;
    --accent: #7c3aed;
    --accent2: #4f46e5;
    --accent3: #06b6d4;
    --text: #f1f0ff;
    --muted: #8b87b8;
    --border: #2a2a4a;
    --merged: #22c55e;
    --warn: #f59e0b;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html, body { width: 100%; height: 100%; overflow: hidden; font-family: 'Inter', 'Segoe UI', system-ui, sans-serif; background: var(--bg); color: var(--text); }

  /* ‚îÄ‚îÄ Slide system ‚îÄ‚îÄ */
  #deck { width: 100%; height: 100%; position: relative; }
  .slide {
    position: absolute; inset: 0;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    padding: 60px 80px;
    opacity: 0; pointer-events: none;
    transition: none;
  }
  .slide.active { opacity: 1; pointer-events: all; }

  /* Nav */
  #nav {
    position: fixed; bottom: 32px; left: 50%; transform: translateX(-50%);
    display: flex; gap: 8px; z-index: 100;
  }
  .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--border); cursor: pointer; transition: background .3s, transform .3s; }
  .dot.active { background: var(--accent); transform: scale(1.4); }

  #slide-counter {
    position: fixed; bottom: 32px; right: 48px;
    font-size: 12px; color: var(--muted); letter-spacing: .1em;
    z-index: 100;
  }
  #arrow-hint {
    position: fixed; bottom: 32px; left: 48px;
    font-size: 11px; color: var(--muted); letter-spacing: .08em;
    z-index: 100;
  }

  /* ‚îÄ‚îÄ Typography helpers ‚îÄ‚îÄ */
  .tag {
    display: inline-block; font-size: 11px; letter-spacing: .12em; text-transform: uppercase;
    padding: 4px 12px; border-radius: 20px; margin-bottom: 20px;
    border: 1px solid var(--accent); color: var(--accent); background: rgba(124,58,237,.12);
  }
  .tag.green { border-color: var(--merged); color: var(--merged); background: rgba(34,197,94,.10); }
  .tag.cyan  { border-color: var(--accent3); color: var(--accent3); background: rgba(6,182,212,.10); }

  h1 { font-size: clamp(32px, 4vw, 56px); font-weight: 800; line-height: 1.1; letter-spacing: -.02em; }
  h2 { font-size: clamp(22px, 2.8vw, 40px); font-weight: 700; line-height: 1.2; }
  h3 { font-size: clamp(16px, 1.8vw, 24px); font-weight: 600; }
  p, li { font-size: clamp(14px, 1.4vw, 18px); line-height: 1.7; color: var(--muted); }
  strong { color: var(--text); font-weight: 600; }

  .gradient-text {
    background: linear-gradient(135deg, #7c3aed, #4f46e5, #06b6d4);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }

  /* ‚îÄ‚îÄ Cards ‚îÄ‚îÄ */
  .card {
    background: var(--surface); border: 1px solid var(--border); border-radius: 16px;
    padding: 24px 28px;
  }
  .card.accent-border { border-color: var(--accent); }

  /* ‚îÄ‚îÄ PR pill ‚îÄ‚îÄ */
  .pr-pill {
    display: inline-flex; align-items: center; gap: 8px;
    background: var(--surface2); border: 1px solid var(--border); border-radius: 10px;
    padding: 8px 16px; font-size: 13px;
  }
  .pr-pill .num { color: var(--accent); font-weight: 700; }
  .pr-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--merged); }

  /* ‚îÄ‚îÄ Spectrum bar ‚îÄ‚îÄ */
  .spectrum-row {
    display: flex; align-items: center; gap: 16px; padding: 10px 0;
    border-bottom: 1px solid var(--border);
    opacity: .35; transition: opacity .3s, transform .3s;
  }
  .spectrum-row.lit { opacity: 1; transform: translateX(8px); }
  .spectrum-row.active-level { opacity: 1; transform: translateX(12px); }
  .spectrum-row .level-num { width: 28px; text-align: right; font-size: 12px; color: var(--muted); }
  .spectrum-row .level-name { font-size: 14px; font-weight: 600; min-width: 200px; }
  .spectrum-row .level-desc { font-size: 13px; color: var(--muted); }

  /* ‚îÄ‚îÄ Cytoscape container ‚îÄ‚îÄ */
  #cy { width: 100%; height: 100%; border-radius: 16px; overflow: hidden; }
  #cy-wrap { width: 100%; max-width: 900px; height: 420px; background: var(--surface); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; }

  /* ‚îÄ‚îÄ PR detail slide layout ‚îÄ‚îÄ */
  .pr-detail { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; width: 100%; max-width: 1100px; }
  .pr-detail .left { display: flex; flex-direction: column; gap: 16px; }
  .pr-detail .right { display: flex; flex-direction: column; gap: 12px; }
  .checklist { list-style: none; display: flex; flex-direction: column; gap: 8px; }
  .checklist li { display: flex; align-items: flex-start; gap: 10px; font-size: 14px; color: var(--muted); }
  .checklist li::before { content: '‚úì'; color: var(--merged); font-weight: 700; flex-shrink: 0; margin-top: 2px; }

  .tradeoff-row { display: flex; gap: 12px; align-items: flex-start; padding: 14px 0; border-bottom: 1px solid var(--border); }
  .tradeoff-label { font-size: 12px; letter-spacing: .1em; text-transform: uppercase; color: var(--accent); font-weight: 700; min-width: 90px; }

  /* ‚îÄ‚îÄ Timeline ‚îÄ‚îÄ */
  .timeline { display: flex; flex-direction: column; gap: 0; width: 100%; max-width: 760px; }
  .tl-row { display: flex; gap: 24px; align-items: stretch; }
  .tl-line { display: flex; flex-direction: column; align-items: center; }
  .tl-node { width: 12px; height: 12px; border-radius: 50%; background: var(--accent); flex-shrink: 0; }
  .tl-stem { width: 2px; background: var(--border); flex: 1; min-height: 20px; }
  .tl-content { padding: 0 0 24px 0; flex: 1; }
  .tl-date { font-size: 11px; color: var(--accent3); letter-spacing: .1em; text-transform: uppercase; margin-bottom: 4px; }
  .tl-title { font-size: 14px; font-weight: 600; color: var(--text); margin-bottom: 2px; }
  .tl-sub { font-size: 13px; color: var(--muted); }

  /* ‚îÄ‚îÄ Stat boxes ‚îÄ‚îÄ */
  .stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; width: 100%; max-width: 900px; }
  .stat-box { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 28px 24px; text-align: center; }
  .stat-box .num { font-size: clamp(36px, 4vw, 56px); font-weight: 800; }
  .stat-box .label { font-size: 13px; color: var(--muted); margin-top: 6px; }

  /* ‚îÄ‚îÄ Closing promise ‚îÄ‚îÄ */
  .promise-list { display: flex; flex-direction: column; gap: 16px; width: 100%; max-width: 700px; }
  .promise-item { display: flex; gap: 16px; align-items: flex-start; }
  .promise-icon { font-size: 20px; flex-shrink: 0; margin-top: 2px; }
  .promise-text h4 { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
  .promise-text p { font-size: 14px; color: var(--muted); }

  /* ‚îÄ‚îÄ Background decoration ‚îÄ‚îÄ */
  .bg-glow {
    position: fixed; border-radius: 50%; filter: blur(120px); pointer-events: none; z-index: 0;
  }
  .glow-1 { width: 600px; height: 600px; background: rgba(124,58,237,.08); top: -200px; right: -200px; }
  .glow-2 { width: 500px; height: 500px; background: rgba(6,182,212,.06); bottom: -200px; left: -200px; }

  .slide > * { position: relative; z-index: 1; }

  /* wide layout helper */
  .wide { width: 100%; max-width: 1100px; }
  .center-col { display: flex; flex-direction: column; align-items: center; text-align: center; gap: 20px; }
  .left-col  { display: flex; flex-direction: column; align-items: flex-start; gap: 20px; width: 100%; max-width: 900px; }
</style>
</head>
<body>

<div class="bg-glow glow-1"></div>
<div class="bg-glow glow-2"></div>

<div id="deck">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 1: TITLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s0">
    <div class="center-col">
      <div class="tag">ASI:One Mobile ¬∑ Feb 2026</div>
      <h1 class="gradient-text" style="text-align:center; max-width:820px;">
        Group Chat:<br/>End-to-End Ownership
      </h1>
      <p style="max-width:560px; text-align:center; font-size:18px;">
        Six PRs. Three days. Full feature parity for mobile ‚Äî shipped before the Product Hunt deadline.
      </p>
      <div style="display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:12px;">
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5377</span> Visibility</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5379</span> Message Display</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5385</span> Participant List</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5413</span> Add Participant</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5417</span> Creation Flow</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5425</span> @Mention + Invocation</div>
      </div>
      <p style="margin-top:8px; font-size:13px; color: var(--muted);">Nathan Baker ¬∑ Atomic Object ¬∑ Fetch.ai</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 2: THE STAKES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s1">
    <div class="left-col">
      <div class="tag">Our Client ‚Äî Level 3</div>
      <h2>Why This Work Matters Now</h2>
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; width:100%;">
        <div class="card">
          <div style="font-size:32px; margin-bottom:12px;">üöÄ</div>
          <h3 style="margin-bottom:8px;">Product Hunt Launch</h3>
          <p>Devon at Fetch.ai is launching ASI:One on <strong>March 16, 2026</strong>. Mobile is the primary surface. Group chat gaps on mobile = visible product holes on launch day.</p>
        </div>
        <div class="card">
          <div style="font-size:32px; margin-bottom:12px;">‚öñÔ∏è</div>
          <h3 style="margin-bottom:8px;">Feature Parity Gap</h3>
          <p>Web had full group chat support. Mobile users could <strong>see group chats in web</strong> but they were <strong>invisible on mobile</strong> ‚Äî a broken experience across the same user account.</p>
        </div>
        <div class="card">
          <div style="font-size:32px; margin-bottom:12px;">üîß</div>
          <h3 style="margin-bottom:8px;">Backend Was Ready</h3>
          <p>All APIs, WebSocket events, and invite systems were <strong>production-ready</strong>. This was a pure mobile native interface problem ‚Äî wiring the frontend to existing endpoints.</p>
        </div>
        <div class="card accent-border">
          <div style="font-size:32px; margin-bottom:12px;">üìÖ</div>
          <h3 style="margin-bottom:8px;">18 Days to Launch</h3>
          <p>Feb 24‚Äì26 shipment gives the team <strong>18 days</strong> to QA, polish, and integrate ‚Äî a comfortable runway before Product Hunt goes live.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 3: VALUE SPECTRUM ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s2">
    <div style="display:grid; grid-template-columns:1fr 1.2fr; gap:48px; width:100%; max-width:1100px; align-items:start;">
      <div>
        <div class="tag">Value Spectrum</div>
        <h2 style="margin-bottom:24px;">How This Work<br/>Ladders Up</h2>
        <p style="margin-bottom:24px;">Every line of code I shipped connects to a business outcome. Here's how the 6 PRs map across the value chain ‚Äî from the character of code to the end customer.</p>
        <div class="card" style="border-color: var(--accent3);">
          <h3 style="color: var(--accent3); margin-bottom:8px;">The through-line</h3>
          <p style="font-size:14px;">A user taps "New Group Chat" ‚Üí friends join ‚Üí agents respond to @mentions ‚Üí Fetch launches on Product Hunt with a complete mobile product.</p>
        </div>
      </div>
      <div id="spectrum-list" style="display:flex; flex-direction:column;">
        <div class="spectrum-row lit" data-level="2">
          <span class="level-num">2</span>
          <span class="level-name">End Customer</span>
          <span class="level-desc">Seamless group chat on mobile</span>
        </div>
        <div class="spectrum-row lit" data-level="3">
          <span class="level-num">3</span>
          <span class="level-name">Our Client (Fetch)</span>
          <span class="level-desc">Product Hunt parity by Mar 16</span>
        </div>
        <div class="spectrum-row lit" data-level="4">
          <span class="level-num">4</span>
          <span class="level-name">The Product</span>
          <span class="level-desc">ASI:One mobile = full platform</span>
        </div>
        <div class="spectrum-row lit" data-level="6">
          <span class="level-num">6</span>
          <span class="level-name">The Epic</span>
          <span class="level-desc">Group chat end-to-end (#5154)</span>
        </div>
        <div class="spectrum-row lit" data-level="8">
          <span class="level-num">8</span>
          <span class="level-name">Feature / Task</span>
          <span class="level-desc">6 focused, merged PRs</span>
        </div>
        <div class="spectrum-row lit" data-level="10">
          <span class="level-num">10</span>
          <span class="level-name">Code Repo</span>
          <span class="level-desc">community-web-app (native)</span>
        </div>
        <div class="spectrum-row lit" data-level="11">
          <span class="level-num">11</span>
          <span class="level-name">Code Module</span>
          <span class="level-desc">hooks/chat, components/chat, app/participants</span>
        </div>
        <div class="spectrum-row lit" data-level="12">
          <span class="level-num">12</span>
          <span class="level-name">Function</span>
          <span class="level-desc">filterAgentParticipants, useGroupChannels</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 4: THE EPIC OVERVIEW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s3">
    <div class="center-col">
      <div class="tag green">All 6 PRs Merged</div>
      <h2>What Was Built ‚Äî By the Numbers</h2>
      <div class="stat-grid">
        <div class="stat-box">
          <div class="num gradient-text">6</div>
          <div class="label">Pull requests merged</div>
        </div>
        <div class="stat-box">
          <div class="num gradient-text">3</div>
          <div class="label">Days to ship (Feb 24‚Äì26)</div>
        </div>
        <div class="stat-box">
          <div class="num gradient-text">18</div>
          <div class="label">Days before Product Hunt</div>
        </div>
      </div>
      <div style="width:100%; max-width:900px;">
        <div class="timeline">
          <div class="tl-row">
            <div class="tl-line"><div class="tl-node"></div><div class="tl-stem"></div></div>
            <div class="tl-content">
              <div class="tl-date">Feb 24</div>
              <div class="tl-title">#5377 Group chat visibility + drawer sections</div>
              <div class="tl-sub">Made group chats visible in mobile for the first time</div>
            </div>
          </div>
          <div class="tl-row">
            <div class="tl-line"><div class="tl-node"></div><div class="tl-stem"></div></div>
            <div class="tl-content">
              <div class="tl-date">Feb 24</div>
              <div class="tl-title">#5379 Multi-user message display + timestamps</div>
              <div class="tl-sub">Left-align bubbles, sender avatars, formatted timestamps</div>
            </div>
          </div>
          <div class="tl-row">
            <div class="tl-line"><div class="tl-node"></div><div class="tl-stem"></div></div>
            <div class="tl-content">
              <div class="tl-date">Feb 25</div>
              <div class="tl-title">#5385 Human users section in participants page</div>
              <div class="tl-sub">Owner badges, remove actions, pending invites</div>
            </div>
          </div>
          <div class="tl-row">
            <div class="tl-line"><div class="tl-node"></div><div class="tl-stem"></div></div>
            <div class="tl-content">
              <div class="tl-date">Feb 25</div>
              <div class="tl-title">#5413 Add participant flow</div>
              <div class="tl-sub">Friend search, email invite, inline on participants page</div>
            </div>
          </div>
          <div class="tl-row">
            <div class="tl-line"><div class="tl-node"></div><div class="tl-stem"></div></div>
            <div class="tl-content">
              <div class="tl-date">Feb 25</div>
              <div class="tl-title">#5417 Group chat creation flow</div>
              <div class="tl-sub">New Group Chat button, eager channel creation, auto-upgrade</div>
            </div>
          </div>
          <div class="tl-row">
            <div class="tl-line"><div class="tl-node" style="background:var(--accent3)"></div><div class="tl-stem" style="background:transparent"></div></div>
            <div class="tl-content">
              <div class="tl-date" style="color:var(--accent3)">Feb 26</div>
              <div class="tl-title">#5425 @Mention + agent invocation radio</div>
              <div class="tl-sub">Channel-aware agent autocomplete, owner invocation control</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 5: PR DEPENDENCY MAP (CYTOSCAPE) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s4">
    <div class="center-col" style="width:100%;">
      <div class="tag cyan">The Build Order</div>
      <h2>PR Dependency Graph</h2>
      <p style="margin-bottom:16px;">Each PR unlocks the next. This wasn't random ‚Äî it was a deliberate sequence: visibility ‚Üí display ‚Üí manage ‚Üí add ‚Üí create ‚Üí intelligence.</p>
      <div id="cy-wrap">
        <div id="cy"></div>
      </div>
      <p style="font-size:12px; color:var(--muted); margin-top:8px;">Hover over nodes to explore. Arrows show dependency direction.</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 6: PR 1 ‚Äî VISIBILITY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s5">
    <div class="left-col">
      <div style="display:flex; gap:12px; align-items:center;">
        <div class="tag">PR 1 of 6</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5377</span></div>
      </div>
      <h2>Group Chat Visibility<br/>&amp; Drawer Sections</h2>
      <div class="pr-detail">
        <div class="left">
          <div class="card">
            <h3 style="color:var(--warn); margin-bottom:8px;">The Problem</h3>
            <p>Mobile only fetched <code style="color:var(--accent3); background:var(--surface2); padding:2px 6px; border-radius:4px;">channel_type: 'chat'</code>. Group chats existed in the database ‚Äî users had already created them on web ‚Äî but they were <strong>completely invisible on mobile</strong>.</p>
          </div>
          <div class="card">
            <h3 style="color:var(--merged); margin-bottom:8px;">The Fix</h3>
            <p>Added <code style="color:var(--accent3); background:var(--surface2); padding:2px 6px; border-radius:4px;">useGroupChannels</code> hook querying with <code style="color:var(--accent3); background:var(--surface2); padding:2px 6px; border-radius:4px;">is_multi_org=true</code>. Extracted drawer sections into separate components. Used conditional rendering to fix stale native ContextMenu UIViews specific to iOS.</p>
          </div>
        </div>
        <div class="right">
          <h3 style="color:var(--muted); font-size:13px; letter-spacing:.1em; text-transform:uppercase; margin-bottom:8px;">Delivered</h3>
          <ul class="checklist">
            <li>Include <code>multi_org_chat</code> in channel type filter</li>
            <li>New <code>useGroupChannels</code> hook</li>
            <li>Collapsible "Group Chats" + "Chats" sections in drawer</li>
            <li>Channel type badge to distinguish group vs 1:1</li>
            <li>Participant count indicator on group chat list items</li>
          </ul>
          <div class="card" style="margin-top:12px; border-color:var(--accent3);">
            <p style="font-size:13px;"><strong style="color:var(--accent3);">Spectrum moment:</strong> This single filter change (level 13 ‚Äî line of code) unlocked level 2 ‚Äî end customers can finally see their group chats on mobile.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 7: PR 2 ‚Äî MESSAGE DISPLAY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s6">
    <div class="left-col">
      <div style="display:flex; gap:12px; align-items:center;">
        <div class="tag">PR 2 of 6</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5379</span></div>
      </div>
      <h2>Multi-User Message<br/>Display &amp; Timestamps</h2>
      <div class="pr-detail">
        <div class="left">
          <div class="card">
            <h3 style="color:var(--warn); margin-bottom:8px;">The Problem</h3>
            <p>The foundation existed (<code>user-sender/index.tsx</code> detected <code>multi_org_chat</code>) but visual polish was missing: square avatars, no timestamps, all messages right-aligned regardless of sender ‚Äî <strong>indistinguishable messages in a multi-user chat</strong>.</p>
          </div>
          <div class="card">
            <h3 style="color:var(--merged); margin-bottom:8px;">The Fix</h3>
            <p>Right-align self, left-align others. Circular avatars. <code>bg-base-default-100</code> for self vs no background for others. Timestamps using shared <code>formatMessageDate</code> utility matching web's <code>ChatDateFormat</code> pattern.</p>
          </div>
        </div>
        <div class="right">
          <h3 style="color:var(--muted); font-size:13px; letter-spacing:.1em; text-transform:uppercase; margin-bottom:8px;">Delivered</h3>
          <ul class="checklist">
            <li>Left-align other users' bubbles, right-align self</li>
            <li>Circular sender avatars matching web style</li>
            <li>Distinct background: self vs others</li>
            <li><code>ml-[46px]</code> indentation for continuation messages</li>
            <li>Timestamps on all messages: "12 December, 02:49 PM"</li>
            <li>Agent messages verified correct in group context</li>
          </ul>
          <div class="card" style="margin-top:12px; border-color:var(--accent3);">
            <p style="font-size:13px;"><strong style="color:var(--accent3);">Module boundary thinking:</strong> I reused the existing <code>formatMessageDate</code> utility rather than creating a parallel implementation ‚Äî keeping a single source of truth for date formatting across message types.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 8: PR 3 ‚Äî PARTICIPANT LIST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s7">
    <div class="left-col">
      <div style="display:flex; gap:12px; align-items:center;">
        <div class="tag">PR 3 of 6</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5385</span></div>
      </div>
      <h2>Human Users Section<br/>in Participants Page</h2>
      <div class="pr-detail">
        <div class="left">
          <div class="card">
            <h3 style="color:var(--warn); margin-bottom:8px;">The Problem</h3>
            <p>The participants page already existed and showed agents. But it only worked for <code>SERVER</code> channel types ‚Äî <strong>multi_org_chat was excluded</strong>. And humans were invisible: no users section, no owner indicators, no remove actions.</p>
          </div>
          <div class="card">
            <h3 style="color:var(--merged); margin-bottom:8px;">The Fix</h3>
            <p>Added USERS section above agents, matching web's drawer ordering. Used existing <code>filterHumanParticipants()</code> type guards. Built <code>ParticipantUserCard</code> component mirroring web's reference implementation.</p>
          </div>
        </div>
        <div class="right">
          <h3 style="color:var(--muted); font-size:13px; letter-spacing:.1em; text-transform:uppercase; margin-bottom:8px;">Delivered</h3>
          <ul class="checklist">
            <li>USERS section: owner first with "Owner" badge</li>
            <li>Non-owners show danger-styled remove button</li>
            <li>Pending invites with "Pending invite" caption</li>
            <li>AI AGENTS label in multi-org context (matching web)</li>
            <li>Page now works for both SERVER + multi_org_chat</li>
            <li>Channel auto-downgrades MULTI_ORG ‚Üí CHAT when last user removed (backend handles, mobile respects)</li>
          </ul>
          <div class="card" style="margin-top:12px; border-color:var(--accent3);">
            <p style="font-size:13px;"><strong style="color:var(--accent3);">Reuse over rebuild:</strong> I read the web implementation at <code>participants-drawer.tsx</code> and ported the structure rather than designing from scratch ‚Äî consistent UX, faster delivery.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 9: PR 4 ‚Äî ADD PARTICIPANT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s8">
    <div class="left-col">
      <div style="display:flex; gap:12px; align-items:center;">
        <div class="tag">PR 4 of 6</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5413</span></div>
      </div>
      <h2>Add Participant Flow<br/>for Group Chats</h2>
      <div class="pr-detail">
        <div class="left">
          <div class="card">
            <h3 style="color:var(--warn); margin-bottom:8px;">The Problem</h3>
            <p>The participants page showed who was in a chat, but there was <strong>no way to add anyone</strong>. Users had to switch to the web app to invite others ‚Äî a complete workflow dead-end on mobile.</p>
          </div>
          <div class="card">
            <h3 style="color:var(--merged); margin-bottom:8px;">The Fix</h3>
            <p>Inline ADD USERS section on the participants page (owner only). Three paths: share invite link, friend search via <code>useListFriends</code>, or email input. Ported <code>filterSingleEmail</code> utility from web. Auto-upgrade CHAT ‚Üí MULTI_ORG_CHAT when second user added.</p>
          </div>
        </div>
        <div class="right">
          <h3 style="color:var(--muted); font-size:13px; letter-spacing:.1em; text-transform:uppercase; margin-bottom:8px;">Delivered</h3>
          <ul class="checklist">
            <li>Inline ADD USERS section (owner-only, both 1:1 and group)</li>
            <li>Friend search with real-time filtering</li>
            <li>Email input with validation</li>
            <li>Share invite link action</li>
            <li>Toast feedback on successful add</li>
            <li>Channel auto-upgrade wired through backend API</li>
          </ul>
          <div class="card" style="margin-top:12px; border-color:var(--accent3);">
            <p style="font-size:13px;"><strong style="color:var(--accent3);">Trade-off:</strong> I made ADD USERS available on any owned channel (not just multi-org) ‚Äî so adding a 2nd person to a 1:1 chat seamlessly upgrades it. Less branching logic, better UX.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 10: PR 5 ‚Äî CREATION FLOW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s9">
    <div class="left-col">
      <div style="display:flex; gap:12px; align-items:center;">
        <div class="tag">PR 5 of 6</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5417</span></div>
      </div>
      <h2>Group Chat Creation Flow<br/>from New Chat Page</h2>
      <div class="pr-detail">
        <div class="left">
          <div class="card">
            <h3 style="color:var(--warn); margin-bottom:8px;">The Problem</h3>
            <p>There was <strong>no entry point</strong> to start a group chat on mobile. Additionally, the sidebar "Chats" section was showing <code>multi_org_chat</code> channels alongside regular chats ‚Äî duplicating them from the Group Chats section.</p>
          </div>
          <div class="card">
            <h3 style="color:var(--merged); margin-bottom:8px;">The Fix</h3>
            <p>Eagerly create a single-user channel when new chat page loads, save to MobX store. "New Group Chat" button navigates to <code>/participants</code>. Adding a second user triggers the backend auto-upgrade ‚Äî <strong>no new screens needed</strong>.</p>
          </div>
        </div>
        <div class="right">
          <h3 style="color:var(--muted); font-size:13px; letter-spacing:.1em; text-transform:uppercase; margin-bottom:8px;">Delivered</h3>
          <ul class="checklist">
            <li>"New Group Chat" button below existing action buttons</li>
            <li>Eager channel creation on page load ‚Üí saves to MobX</li>
            <li>Navigate to existing <code>/participants</code> ‚Äî zero new screens</li>
            <li>Adding 2nd user auto-upgrades CHAT ‚Üí MULTI_ORG_CHAT</li>
            <li>Sidebar "Chats" section excludes multi_org_chat (matching web)</li>
          </ul>
          <div class="card" style="margin-top:12px; border-color:var(--accent3);">
            <p style="font-size:13px;"><strong style="color:var(--accent3);">Key insight:</strong> I didn't need to build a "group chat creation wizard." By reusing the participants page from PR 3 and the add flow from PR 4, creation becomes: make channel ‚Üí add people. Minimum new code, maximum value.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 11: PR 6 ‚Äî @MENTION + INVOCATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s10">
    <div class="left-col">
      <div style="display:flex; gap:12px; align-items:center;">
        <div class="tag">PR 6 of 6</div>
        <div class="pr-pill"><span class="pr-dot"></span><span class="num">#5425</span></div>
      </div>
      <h2>@Mention + Agent Invocation<br/>from Channel Participants API</h2>
      <div class="pr-detail">
        <div class="left">
          <div class="card">
            <h3 style="color:var(--warn); margin-bottom:8px;">The Root Cause</h3>
            <p>@mention autocomplete searched globally (not channel-aware). The participants page AI Agents section pulled from the MobX message store ‚Äî only your own agents. <strong>Other users' agents were invisible</strong>, even though the backend had the data.</p>
          </div>
          <div class="card">
            <h3 style="color:var(--merged); margin-bottom:8px;">The Fix</h3>
            <p>Wire <code>useListParticipants(channelId)</code> + <code>filterAgentParticipants()</code> as the primary agent source for both the participants page and the @mention autocomplete. Fall back to global search as supplement.</p>
          </div>
        </div>
        <div class="right">
          <h3 style="color:var(--muted); font-size:13px; letter-spacing:.1em; text-transform:uppercase; margin-bottom:8px;">Delivered</h3>
          <ul class="checklist">
            <li>Channel-aware agent list from participants API</li>
            <li>All agents in channel visible (including other users')</li>
            <li>@mention autocomplete sources from channel agents in group chats</li>
            <li>Global agent search as fallback supplement</li>
            <li>Agent invocation behavior radio (All Messages / Mentions Only)</li>
            <li>Invocation setting wired to <code>useUpdateChannel</code> ‚Äî owner only, group chats only</li>
          </ul>
          <div class="card" style="margin-top:12px; border-color:var(--accent3);">
            <p style="font-size:13px;"><strong style="color:var(--accent3);">This is the intelligence layer:</strong> Group chat without agent awareness is just a chat app. This PR makes the multi-agent coordination ‚Äî ASI:One's core value prop ‚Äî actually work on mobile.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 12: TRADE-OFFS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s11">
    <div class="left-col">
      <div class="tag">Engineering Judgment</div>
      <h2>Trade-offs &amp; Decisions Made</h2>
      <div class="card" style="width:100%;">
        <div class="tradeoff-row">
          <div class="tradeoff-label">Reuse</div>
          <div>
            <strong>Reused the existing participants page</strong> instead of building a creation wizard. PRs 4 and 5 share a single screen for management, adding, and group creation. Fewer screens = less cognitive load for users, less surface area to maintain.
          </div>
        </div>
        <div class="tradeoff-row">
          <div class="tradeoff-label">Parity</div>
          <div>
            <strong>Referenced web implementation</strong> for participant ordering, card structure, and date formatting rather than reinventing. Explicit decision to match web UX so users have consistent mental models across platforms.
          </div>
        </div>
        <div class="tradeoff-row">
          <div class="tradeoff-label">Scope</div>
          <div>
            <strong>Deferred real-time participant updates (PR 7)</strong> and invite deep links (PR 8) ‚Äî both require WebSocket infrastructure work beyond the scope of a 3-day sprint. Shipped what was achievable without those, marked remainder clearly in issue.
          </div>
        </div>
        <div class="tradeoff-row">
          <div class="tradeoff-label">API First</div>
          <div>
            <strong>Backend drove the channel type lifecycle.</strong> Auto-upgrade CHAT ‚Üí MULTI_ORG_CHAT and auto-downgrade on last user removed are handled server-side. Mobile trusts those guarantees rather than duplicating logic ‚Äî thinner client, less drift.
          </div>
        </div>
        <div class="tradeoff-row" style="border:none;">
          <div class="tradeoff-label">Eagerness</div>
          <div>
            <strong>Eager channel creation</strong> on the new chat page load (PR 5) trades a slightly earlier API call for a simpler user flow ‚Äî no confirmation step, no "creating..." spinner after tapping "New Group Chat."
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SLIDE 13: CLOSING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" id="s12">
    <div class="center-col" style="max-width:800px;">
      <div class="tag green">28-Day Arc</div>
      <h2 style="text-align:center;">What This Demonstrates</h2>
      <p style="text-align:center; max-width:600px;">Group chat wasn't a task handed to me ‚Äî it was a feature I took from issue analysis to 6 merged PRs, end-to-end, in 3 days.</p>
      <div class="promise-list">
        <div class="promise-item">
          <div class="promise-icon">üéØ</div>
          <div class="promise-text">
            <h4>I finish what I start</h4>
            <p>6 PRs committed, 6 PRs merged. No hand-offs. No half-shipped work left in review. The feature is in production before the Product Hunt deadline.</p>
          </div>
        </div>
        <div class="promise-item">
          <div class="promise-icon">üîó</div>
          <div class="promise-text">
            <h4>I connect code to business value</h4>
            <p>I can speak to why this work exists ‚Äî Product Hunt, mobile parity, Fetch's growth ‚Äî not just what files I changed.</p>
          </div>
        </div>
        <div class="promise-item">
          <div class="promise-icon">üß©</div>
          <div class="promise-text">
            <h4>I sequence work deliberately</h4>
            <p>Visibility before display before management before adding before creating before intelligence. Each PR unlocked the next ‚Äî no thrashing, no rework.</p>
          </div>
        </div>
        <div class="promise-item">
          <div class="promise-icon">üì¢</div>
          <div class="promise-text">
            <h4>I communicate with intent</h4>
            <p>Every PR has context, a summary, what changed before, and a demo. The issue tracks what's shipped and what's deferred ‚Äî readable by anyone on the team.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

</div><!-- /deck -->

<!-- Nav dots -->
<div id="nav"></div>
<div id="slide-counter">1 / 13</div>
<div id="arrow-hint">‚Üê ‚Üí to navigate</div>

<script>
// ‚îÄ‚îÄ Slide engine ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const slides = Array.from(document.querySelectorAll('.slide'));
const nav = document.getElementById('nav');
const counter = document.getElementById('slide-counter');
let current = 0;
let animating = false;

// Build dots
slides.forEach((_, i) => {
  const d = document.createElement('div');
  d.className = 'dot' + (i === 0 ? ' active' : '');
  d.addEventListener('click', () => goTo(i));
  nav.appendChild(d);
});

function goTo(idx) {
  if (animating || idx === current || idx < 0 || idx >= slides.length) return;
  animating = true;
  const dir = idx > current ? 1 : -1;
  const outSlide = slides[current];
  const inSlide  = slides[idx];

  // Hide current
  anime({ targets: outSlide, opacity: 0, translateX: -40 * dir, duration: 260, easing: 'easeInQuad',
    complete: () => {
      outSlide.classList.remove('active');
      outSlide.style.transform = '';
    }
  });

  // Show next
  inSlide.style.opacity = 0;
  inSlide.style.transform = `translateX(${40 * dir}px)`;
  inSlide.classList.add('active');
  anime({ targets: inSlide, opacity: 1, translateX: 0, duration: 320, easing: 'easeOutQuad',
    complete: () => {
      animating = false;
      if (idx === 4) initCytoscape(); // PR graph slide
    }
  });

  // Update dots + counter
  document.querySelectorAll('.dot').forEach((d, i) => d.classList.toggle('active', i === idx));
  current = idx;
  counter.textContent = `${idx + 1} / ${slides.length}`;
}

// Init first slide
slides[0].classList.add('active');
anime({ targets: slides[0], opacity: [0, 1], translateY: [20, 0], duration: 600, easing: 'easeOutQuart' });

// Keyboard navigation
document.addEventListener('keydown', e => {
  if (e.key === 'ArrowRight' || e.key === 'ArrowDown') goTo(current + 1);
  if (e.key === 'ArrowLeft'  || e.key === 'ArrowUp')   goTo(current - 1);
});

// ‚îÄ‚îÄ Cytoscape PR graph ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let cyInited = false;
function initCytoscape() {
  if (cyInited) return;
  cyInited = true;

  const cy = window.cytoscape({
    container: document.getElementById('cy'),
    style: [
      {
        selector: 'node',
        style: {
          'background-color': '#1a1a35',
          'border-color': '#7c3aed',
          'border-width': 2,
          'label': 'data(label)',
          'color': '#f1f0ff',
          'text-valign': 'center',
          'text-halign': 'center',
          'font-size': '11px',
          'font-family': 'Inter, system-ui, sans-serif',
          'font-weight': '600',
          'text-wrap': 'wrap',
          'text-max-width': '110px',
          'width': 120,
          'height': 56,
          'shape': 'roundrectangle',
          'padding': '8px',
        }
      },
      {
        selector: 'node:hover',
        style: {
          'background-color': '#2a1a5e',
          'border-color': '#06b6d4',
          'border-width': 3,
        }
      },
      {
        selector: 'edge',
        style: {
          'width': 2,
          'line-color': '#2a2a4a',
          'target-arrow-color': '#7c3aed',
          'target-arrow-shape': 'triangle',
          'curve-style': 'bezier',
          'opacity': 0.8,
        }
      }
    ],
    elements: {
      nodes: [
        { data: { id: '5377', label: '#5377\nVisibility\nFeb 24' } },
        { data: { id: '5379', label: '#5379\nMsg Display\nFeb 24' } },
        { data: { id: '5385', label: '#5385\nParticipant List\nFeb 25' } },
        { data: { id: '5413', label: '#5413\nAdd Participant\nFeb 25' } },
        { data: { id: '5417', label: '#5417\nCreate Group Chat\nFeb 25' } },
        { data: { id: '5425', label: '#5425\n@Mention + Invoke\nFeb 26' } },
      ],
      edges: [
        { data: { source: '5377', target: '5379' } },
        { data: { source: '5377', target: '5385' } },
        { data: { source: '5385', target: '5413' } },
        { data: { source: '5413', target: '5417' } },
        { data: { source: '5413', target: '5425' } },
        { data: { source: '5385', target: '5425' } },
      ]
    },
    layout: {
      name: 'breadthfirst',
      directed: true,
      padding: 32,
      spacingFactor: 1.4,
      animate: true,
      animationDuration: 600,
    },
    zoomingEnabled: false,
    userZoomingEnabled: false,
    panningEnabled: false,
  });

  // Animate nodes in
  cy.nodes().forEach((n, i) => {
    n.style('opacity', 0);
    setTimeout(() => {
      anime({ targets: n.renderedBoundingBox(), opacity: [0, 1], duration: 300 });
      n.animate({ style: { opacity: 1 } }, { duration: 400, easing: 'ease-out-cubic', delay: i * 80 });
    }, i * 80);
  });
}
</script>
</body>
</html>
